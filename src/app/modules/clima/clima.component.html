<div *ngIf="loading" class="load">
    <div class="row justify-content-center">
      <div class="col-1 align-self-center">
        <app-radar-spinner
          [animationDuration]="1000"
          [size]="150"
          [color]="'#51D5EA'"
        ></app-radar-spinner>
      </div>
    </div>
</div>

<div *ngIf="!loading">
    <!-- contenedor de todo -->
    <div id="contenedorTodo" class="fluid-container">

        <!-- temperatura actual -->
        <div id="temperaturaActual" class="container arriba contenedor-info-clima shadow"style="
        background-image: url('../assets/img/day-sky.jpg');">
            <div class="row contenedorTempAct">
                <div class="icono">
                    <img src="../assets/icons/{{ weather.weather[0].description}}.png" alt="icono">
                </div>
                <div class="col">
                    <p class="row justify-content-md-center temp-actual fc-w">{{ weather.main.temp | round}}°</p>
                    <p class="row ciudad-actual fc-w">{{ weather.name | noData}}, {{weather.sys.country | noData}}</p>
                </div>
            </div>
        </div>

        <!-- proximas horas -->
        <div id="proximasHoras" class="container arriba shadow" (click)="bajar('proximasHoras','proximosDias','condicionesAd')">
            <div class="container">
                <h3>En las próximas horas</h3>
                <div class="fluid-container ">
                    <!-- automatizar esto para que me traiga las próximas 3 horas -->
                    <div class="contenedor-columnas">
                        <div  *ngFor="let hora of weather5.list; let i = index">
                            <div *ngIf="i < cantHoras" class="columna">
                                <div class="icono">
                                    <img src="../assets/icons/{{hora.weather[0].description}}.png" alt="Ícono">
                                </div>
                                <p class="hora">{{hora.dt_txt | date : 'shortTime'}}</p>
                                <!-- este panel muestra la info adicional que solo se muestra cuando está abajo -->
                                <div *ngIf="mostrarInfoHoras" class="info-columna">
                                    <hr>
                                    <!-- temperatura minima -->
                                    <div class="icono">
                                        <img src="../assets/icons/temp_min.png" alt="icono">
                                    </div>
                                    <p>Temperatura mínima</p>
                                    <p>{{hora.main.temp_min | noData: '°'}}</p>
                                    <!-- temperatura minima -->
                                    <div class="icono">
                                        <img src="../assets/icons/temp_max.png" alt="icono">
                                    </div>
                                    <p>Temperatura máxima</p>
                                    <p>{{hora.main.temp_max | noData: '°'}}</p>
                                    <!-- temperatura minima -->
                                    <div class="icono">
                                        <img src="../assets/icons/speed.png" alt="icono">
                                    </div>
                                    <p>Velocidad del viento</p>
                                    <p>{{hora.main.speed | noData: 'km/h'}}</p>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div *ngIf="!mostrarInfoHoras"class="icono flecha">
                <img src="../assets/img/swipe-down-lightmode.gif" alt="Ampliar">
            </div> 
        </div>
        
        <!-- proximos dias -->
        <div id="proximosDias" class="container arriba shadow" (click)="bajar('proximosDias','proximasHoras','condicionesAd')">
            <div class="container">
                <h3>En los próximos días</h3>
                <div class="row fluid-container">
                    <!-- automatizado -->
                    <div class="contenedor-columnas">
                        <div *ngFor="let dia of proxDias; let i = index">
                            <div *ngIf="i < cantDias" class="columna">
                                <div class="icono">
                                    <img src="../assets/icons/{{dia.descripcion}}.png" alt="icono">
                                </div>
                                <p class="dia">{{dia.dia}}</p>
                                <div *ngIf="mostrarInfoDias == true" class="info-columna">
                                    <hr>
                                    <!-- temperatura minima -->
                                    <div class="icono">
                                        <img src="../assets/icons/temp_min.png" alt="icono">
                                    </div>
                                    <p>Temperatura mínima</p>
                                    <p>{{dia.temp_min | noData: '°'}}</p>
                                    <!-- temperatura minima -->
                                    <div class="icono">
                                        <img src="../assets/icons/temp_max.png" alt="icono">
                                    </div>
                                    <p>Temperatura máxima</p>
                                    <p>{{dia.temp_max | noData: '°'}}</p>
                                    <!-- temperatura minima -->
                                    <div class="icono">
                                        <img src="../assets/icons/speed.png" alt="icono">
                                    </div>
                                    <p>Velocidad del viento</p>
                                    <p>{{dia.speed | noData: 'km/h'}}</p>
                                </div>
                                
                            </div>
                        </div>
                        <div *ngIf="!mostrarInfoDias"class="icono flecha">
                            <img src="../assets/img/swipe-down-lightmode.gif" alt="Ampliar">
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <!-- condiciones adicionales -->
        <div id="condicionesAd" class="container abajo shadow" (click)="bajar('condicionesAd','proximasHoras','proximosDias')">
            
            <h3>Condiciones adicionales</h3>
            <div class="fluid-container contenedorCondAd" >

                <!-- condicion adicional -->
                <div class="condAd">
                    <div class="icono">
                        <img src="../assets/icons/temp_min.png" alt="temp_min">
                    </div>
                    <p class="condicion">Temperatura mínima</p>
                    <p>{{weather.main.temp_min | round | noData : '°' }}</p>
                </div>
                <!-- condicion adicional -->
                <div class="condAd">
                    <div class="icono">
                        <img src="../assets/icons/temp_max.png" alt="temp_max">
                    </div>
                    <p class="condicion">Temperatura máxima</p>
                    <p>{{weather.main.temp_max | round | noData : '°'}}</p>
                </div>
                <!-- condicion adicional -->
                <div class="condAd">
                    <div class="icono">
                        <img src="../assets/icons/speed.png" alt="speed">
                    </div>
                    <p class="condicion">Velocidad del viento</p>
                    <p>{{weather.wind.speed | noData: 'km/hr'}}</p>
                </div>
                <!-- para que muestre sólo 3 cuando esté arriba -->
                <div *ngIf="mostrarInfoCondAd" class="contenedorCondAd">
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/pressure.png" alt="pressure">
                        </div>
                        <p class="condicion">Presión</p>
                        <p>{{weather.main.pressure| noData : 'hPa'}}</p>
                    </div> 

                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/humidity.png" alt="humidity">
                        </div>
                        <p class="condicion">Humedad</p>
                        <p>{{weather.main.humidity | noData : '%'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/sea-level.png" alt="sea-level">
                        </div>
                        <p class="condicion">Presión a nivel del mar</p>
                        <p>{{weather.main.sea_level| noData : 'hPa'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/pressure.png" alt="pressure">
                        </div>
                        <p class="condicion">Presión a nivel del suelo</p>
                        <p>{{weather.main.grnd_level | noData: 'hPa'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/visibility.png" alt="visibility">
                        </div>
                        <p class="condicion">Visibilidad</p>
                        <p>{{weather.visibility | noData: 'm'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/deg.png" alt="deg">
                        </div>
                        <p class="condicion">Dirección del viento</p>
                        <p>{{weather.wind.deg | noData: '°'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/gust.png" alt="gust">
                        </div>
                        <p class="condicion">Ráfaga de viento</p>
                        <p>{{weather.wind.gust | noData: 'm/seg'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/all.png" alt="all">
                        </div>
                        <p class="condicion">Nubosidad</p>
                        <p>{{weather.clouds.all | noData: '%'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/rain1h3h.png" alt="rain1h3h">
                        </div>
                        <p class="condicion">Volumen de lluvia (Últ. hr)</p>
                        <p>{{weather.rain | noData: 'mm'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/rain1h3h.png" alt="rain1h3h">
                        </div>
                        <p class="condicion">Volumen de lluvia (Últ. 3 hr)</p>
                        <p>{{weather.rain | noData: 'mm'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/snow1h3h.png" alt="snow1h3h">
                        </div>
                        <p class="condicion">Volumen de nieve (Últ. hr)</p>
                        <p>{{weather.snow | noData: 'mm'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/snow1h3h.png" alt="snow1h3h">
                        </div>
                        <p class="condicion">Volumen de nieve (Últ. 3 hr)</p>
                        <p>{{weather.snow | noData: 'mm'}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/sunrise.png" alt="sunrise">
                        </div>
                        <p class="condicion">Amanecer</p>
                        <p>{{weather.sys.sunrise | date:'shortTime' | noData}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/sunset.png" alt="sunset">
                        </div>
                        <p class="condicion">Anochecer</p>
                        <p>{{weather.sys.sunset | date:'shortTime' | noData}}</p>
                    </div>
                    <!-- condicion adicional -->
                    <div class="condAd">
                        <div class="icono">
                            <img src="../assets/icons/timezone.png" alt="timezone">
                        </div>
                        <p class="condicion">Zona horaria</p>
                        <p>{{ weather.timezone | noData}}</p>
                    </div>
                </div>
                <div *ngIf="!mostrarInfoCondAd"class="icono flecha">
                    <img src="../assets/img/swipe-down-lightmode.gif" alt="Ampliar">
                </div> 
            </div>
        </div>
    </div>
</div>