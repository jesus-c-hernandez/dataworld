<!-- pantalla de carga -->
<div *ngIf="loading" class="load">
  <div class="row justify-content-center">
    <div class="col-1 align-self-center">
      <app-radar-spinner
        [animationDuration]="1000"
        [size]="150"
        [color]="'#51D5EA'"
      ></app-radar-spinner>
    </div>
  </div>
</div>

<div *ngIf="!loading">
  <div class="container">
    <h1>Perfil</h1>
    <p>Edita la informaci칩n de tu perfil.</p>

    <form
      class="form-horizontal form-material"
      id="loginform"
      autocomplete="off"
      [formGroup]="registerForm"
      (ngSubmit)="guardarCambios()"
    >
      <div class="form-group m-t-20">
        <div class="col-xs-12 mt-3">
          <label for="name">Nombre:</label>
          <input
            id="name"
            value="{{ user.data.name }}"
            class="form-control"
            type="text"
            placeholder="Nombre"
            formControlName="name"
          />
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <label for="email">Correo electr칩nico:</label>
          <input
            id="email"
            value="{{ user.data.email }}"
            class="form-control"
            type="text"
            placeholder="Email"
            formControlName="email"
          />
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <ng-select
            [items]="countries"
            bindLabel="name"
            bindValue="namea2"
            (change)="chooseCountry()"
            [closeOnSelect]="true"
            placeholder="Pais"
            formControlName="country"
          >
          </ng-select>
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <ng-select
            [items]="timeZones"
            bindLabel="name"
            bindValue="code"
            [closeOnSelect]=true
            placeholder="Zona horaria"
            formControlName="timeZone"
            [(ngModel)] = "timeZone"
          >
          </ng-select>
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <ng-select
          [items]="languages"
          bindLabel="label"
          bindValue="code"
          placeholder="Idioma"
          [closeOnSelect]=true
          formControlName="language"
        >
        </ng-select>
        </div>
      </div>

      <div class="row">
        <div class="col text-danger">
          <p *ngIf="notValidField('name')">El nombre es obligatorio</p>
          <p *ngIf="notValidField('email')">
            El email es obligatorio y tiene que ser valido
          </p>
          <!-- <p *ngIf="notValidPass()">Las contrase침as deben de ser iguales</p> -->
        </div>
      </div>

      <!-- Bot칩n para editar info -->
      <div class="text-center m-t-20 mb-5">
        <div class="col-xs-12 mt-3">
          <!-- guardar cambios -->
          <button
            type="submit"
            class="btn btn-primary btn-block waves-effect waves-light"
          >
            Guardar cambios
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
