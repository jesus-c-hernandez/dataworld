<!-- pantalla de carga -->
<div *ngIf="loading" class="load">
  <div class="row justify-content-center">
    <div class="col-1 align-self-center">
      <app-radar-spinner
        [animationDuration]="1000"
        [size]="150"
        [color]="'#51D5EA'"
      ></app-radar-spinner>
    </div>
  </div>
</div>

<div *ngIf="!loading" class="profile-container">
  <div class="container">
    <h1>{{ Constants.profile.profile }}</h1>
    <p>{{ Constants.profile.edit }}.</p>

    <form
      class="form-horizontal form-material"
      id="loginform"
      autocomplete="off"
      [formGroup]="registerForm"
      (ngSubmit)="guardarCambios()"
    >
      <div class="form-group m-t-20">
        <div class="col-xs-12 mt-3">
          <label for="name">{{ Constants.profile.name }}:</label>
          <input
            id="name"
            value="{{ user.data.name }}"
            class="form-control"
            type="text"
            placeholder="{{ Constants.profile.name }}"
            formControlName="name"
          />
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <label for="email">{{ Constants.profile.email }}:</label>
          <input
            id="email"
            value="{{ user.data.email }}"
            class="form-control"
            type="text"
            placeholder="{{ Constants.profile.email }}"
            formControlName="email"
            disabled="true"
          />
        </div>
      </div>
      <!--<div class="form-group mt-3">
            <div class="col-xs-12">
              <label for="pass1">Contraseña:</label>
              <input
              id="pass1"
              value="{{user.data.password}}"
                class="form-control"
                type="password"
                placeholder="Contraseña"
                formControlName="password"
              />
            </div>
          </div>
          <div class="form-group mt-3">
            <div class="col-xs-12">
              <label for="pass2">Repite la contraseña:</label>
              <input
              id="pass2"
              value="{{user.data.password}}"
                class="form-control"
                type="password"
                placeholder="Confirmar contraseña"
                formControlName="password2"
              />
            </div>
          </div>-->
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <label for="email">{{ Constants.profile.country }}:</label>
          <ng-select
            [items]="countries"
            bindLabel="name"
            bindValue="namea2"
            (change)="chooseCountry()"
            [closeOnSelect]="true"
            placeholder="{{ Constants.profile.country }}"
            formControlName="country"
          >
          </ng-select>
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <label for="email">{{ Constants.profile.timeZone }}:</label>
          <ng-select
            [items]="timeZones"
            bindLabel="name"
            bindValue="code"
            [closeOnSelect]=true
            placeholder="{{ Constants.profile.timeZone }}"
            formControlName="timeZone"
          >
          </ng-select>
        </div>
      </div>
      <div class="form-group mt-3">
        <div class="col-xs-12">
          <label for="email">{{ Constants.profile.language }}:</label>
          <ng-select
          [items]="languages"
          bindLabel="label"
          bindValue="code"
          placeholder="{{ Constants.profile.language }}"
          [closeOnSelect]=true
          formControlName="language"
        >
        </ng-select>
        </div>
      </div>

      <div class="row">
        <div class="col text-danger">
          <p *ngIf="notValidField('name')">{{ Constants.profile.obName }}</p>
          <p *ngIf="notValidField('email')">
            {{ Constants.profile.obEmail }}
          </p>
          <p *ngIf="notValidField('country')">{{ Constants.profile.obCountry }}</p>
          <p *ngIf="notValidField('timeZone')">{{ Constants.profile.obTimeZone }}</p>
          <p *ngIf="notValidField('language')">{{ Constants.profile.obLang }}</p>
          <!-- <p *ngIf="notValidPass()">Las contraseñas deben de ser iguales</p> -->
        </div>
      </div>

      <!-- Botón para editar info -->
      <div class="text-center m-t-20 mb-5">
        <div class="col-xs-12 mt-3">
          <!-- guardar cambios -->
          <button
            type="submit"
            class="btn btn-primary btn-block waves-effect waves-light"
          >
          {{ Constants.profile.save }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
